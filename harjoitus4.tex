\documentclass{article}
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{tikz}
\usepackage{lipsum}
\usepackage{graphicx}
\usepackage[finnish]{babel}
\usepackage{fancyhdr}

\pagestyle{fancy}

\newcounter{tehtava}
\setcounter{tehtava}{1}


\fancyhf{}
\fancyhead[L]{Tehtävä \thetehtava}

\fancypagestyle{plain}{
    \fancyhf{}
    \fancyhead[L]{Tehtävä \thetehtava}
}

\begin{document}
    \thispagestyle{plain}
	\title{MAT11001 - Harjoitus 4}
	\date{}
	\maketitle
	
	
	\section*{Tehtävä \thetehtava}
    Olkoon $f : X \rightarrow Y$. Osoita, että kaikilla $C, D \subset Y$ pätee\newline
    $f^{-1} [C \cup D] = f^{-1}C \cup f^{-1}D$
    
    \paragraph*{Osoitetaan $f^{-1} [C \cup D] \subseteq f^{-1}C \cup f^{-1}D$}\quad\newline
    Olkoon $x \in f^{-1} [C \cup D]$\newline
    \begin{itemize}
        \item Jos $f(x) \in C \cup D$, niin $f(x) \in C$ tai $f(x) \in D$ (yhdistelmä määritelmän mukaan)
        \begin{itemize}
            \item Jos $f(x) \in C$, niin $x \in f^{-1}(C)$
            \item Jos $f(x) \in D$, niin $x \in f^{-1}(D)$  
        \end{itemize}
        \item Siis $x \in f^{-1}(C)$ tai $x \in f^{-1}(D)$, eli $x \in f^{-1}(C) \cup f^{-1}(D)$
    \end{itemize}
    Johtopäätös: $f^{-1} [C \cup D] \subseteq f^{-1}(C) \cup f^{-1}(D)$

    \paragraph*{Osoitetaan $f^{-1}(C) \cup f^{-1}(D) \subseteq f^{-1} [C \cup D] $}\quad\newline
    Olkoon $x \in f^{-1}(C) \cup f^{-1}(D)$
    \begin{itemize}
        \item Tämä tarkoittaa, että $x \in f^{-1}(C)$ tai $x \in f^{-1}(D)$
        \item Jos $x \in f^{-1}(C)$, niin $f(x) \in C$
        \item Jos $x \in f^{-1}(D)$, niin $f(x) \in D$
        \item Koska $f(x) \in C$ tai $f(x) \in D$, pätee $f(x) \in C \cup D$
        \item Siis $x \in f^{-1} [C \cup D]$
    \end{itemize}
    \textbf{Eli $f^{-1}[C \cup D] = f^{-1}C \cup f^{-1}D$}
    \paragraph*{Kokeillaan $f : \mathbb{R} \to \mathbb{R}$, $f(x) = |x|$, ja joukot $C = [0, 2]$ ja $D = [1, 3]$}\quad\newline
    \textbf{Tavoite:} Määritetään ensin joukko $f^{-1}[C \cup D]$ ja sitten joukko $f^{-1}C \cup f^{-1}D$
    \begin{itemize}
        \item[a)] $C \cup D = [0, 2] \cup [1, 3] = [0, 3]$
        \item[b)] Määritetään alkukuva $f^{-1}[C \cup D]$
        \begin{itemize}
            \item $f(x) = |x|$ kuvaa jokaisen $x \in \mathbb{R}$ itseisarvoonsa
            \item $|x| \leq 3$, eli $-3 \leq x \leq 3$
            \item siksi $f^{-1}[C \cup D] = [-3, 3]$
        \end{itemize}
    \end{itemize}
    \quad\newline
    \textbf{Määritä $f^{-1}C \cup f^{-1}D$}
    \begin{itemize}
        \item $f^{-1}C$:
        \begin{itemize}
            \item $C = [0, 2] \implies 0 \leq |x| \leq 2$
            \item $f(x) = |x|$ saa arvot $0 \leq |x| \leq 2 \ x$-arvoilla: $f^{-1}(C) = [-2, 2]$
        \end{itemize} 
        \item $f^{-1}D$:
        \begin{itemize}
            \item $D = [1, 3] \implies 1 \leq |x| \leq 3$
            \item $f(x) = |x|$ saa arvot $1 \leq |x| \leq 3 \ x$-arvoilla $f^{-1}(D) = [-3, -1] \cup [1, 3]$
        \end{itemize} 
        \item yhdistetään tulokset: $f^{-1}(C) = [-2, 2]$ ja $f^{-1}(D) = [-3, -1] \cup [1, 3] \implies 
        f^{-1}(C) \cup f^{-1}(D) = [-3, 3]$
    \end{itemize}
    \quad\newline
    Siis: $f^{-1}[C \cup D] = [-3, 3]$ ja $f^{-1}(C) \cup f^{-1}(D) = [-3, 3]$

    \newpage
    \stepcounter{tehtava}
	\section*{Tehtävä \thetehtava}
    Olkoot $X = \{1, 2, 3\}$ ja $Y = \{1, 2\}$. Keksi kuvaus $X \rightarrow  Y$ tai $Y \rightarrow X$ tai $X \rightarrow X$ tai $Y \rightarrow Y$, joka
    \begin{itemize}
        \item[a)] on injektio, mutta ei ole surjektio\newline
        $Y \rightarrow X$ \newline
            \begin{tikzpicture}
                % Nodes for set Y
                \node (Y1) at (0,2) {1};
                \node (Y2) at (0,1) {2};
            
                % Nodes for set X
                \node (X1) at (3,2) {1};
                \node (X2) at (3,1) {2};
                \node (X3) at (3,0) {3};
            
                % Arrows
                \draw[->] (Y1) -- (X1);
                \draw[->] (Y2) -- (X2);
            \end{tikzpicture}
            \item[b)] on surjektio, mutta ei ole injektio,\newline
        $X \rightarrow Y$ \newline
            \begin{tikzpicture}
                % Nodes for set Y
                \node (Y1) at (0,3) {1};
                \node (Y2) at (0,2) {2};
                \node (Y3) at (0,1) {3};
            
                % Nodes for set X
                \node (X1) at (3,3) {1};
                \node (X2) at (3,2) {2};
            
                % Arrows
                \draw[->] (Y1) -- (X1);
                \draw[->] (Y2) -- (X2);
                \draw[->] (Y3) -- (X2);
            \end{tikzpicture}
            \item[c)] ei ole surjektio eikä injektio,\newline
        $X \rightarrow Y$ \newline
            \begin{tikzpicture}
                % Nodes for set Y
                \node (Y1) at (0,3) {1};
                \node (Y2) at (0,2) {2};
                \node (Y3) at (0,1) {3};

                % Nodes for set X
                \node (X1) at (3,3) {1};
                \node (X2) at (3,2) {2};

                % Arrows
                \draw[->] (Y1) -- (X1);
                \draw[->] (Y2) -- (X1);
            \end{tikzpicture}
            \item[d)] on bijektio,\newline
        $Y \rightarrow Y$ \newline
            \begin{tikzpicture}
                % Nodes for set Y
                \node (Y1) at (0,2) {1};
                \node (Y2) at (0,1) {2};
            
                % Nodes for set X
                \node (X1) at (3,2) {1};
                \node (X2) at (3,1) {2};
            
                % Arrows
                \draw[->] (Y1) -- (X1);
                \draw[->] (Y2) -- (X2);
            \end{tikzpicture}
        \end{itemize}

        \newpage
        \stepcounter{tehtava}
        \section*{Tehtävä \thetehtava}
        Tutki, ovatko seuraavat kuvaukset injektioita, surjektioita tai bijektioita:
        \begin{itemize}

            \item[a)] $f : \mathbb{N} \rightarrow \mathbb{N}, \ f(x) = x^2$\newline
            \textbf{injektio:}
            \begin{itemize}
                \item Oletetaan $f(x_1) = f(x_2)$ eli $x_1^2 = x_2^2$
                \item joukossa $\mathbb{N}$ tämä tarkoittaa, että $x_1 = x_2$. Ts. jos kahdella eri luonnollisella luvulla olisi sama kuva $f(x_1) = f(x_2)$ niin täytyy olla $x_1 = x_2$ koska neliöjuuri on yksikäsitteinen luonnollisilla luvuilla.
            \end{itemize}
            \textbf{Kuvaus on injektio koska eri luonnollisilla luvuilla on eri neliöt.}\linebreak
            \textbf{surjektio:}
            \begin{itemize}
                \item Kuvaus $f(x) = x^2$ tuottaa vain neliölukuja joukossa $\mathbb{N}$ kuten 1, 4, 9, 16, 25, \dots
                \item On olemassa luonnollisia lukuja jotka eivät ole minkään luonnollisen luvun neliöitä. Esimerkiksi lukuja \( 2, 3, 5, \dots\)
                \item Koska näillä luvuilla ei ole vastinetta lähtöjoukossa $\mathbb{N}$, kuvaus ei kata koko tulokuvan $\mathbb{N}$:ää
            \end{itemize}
            \textbf{Kuvaus ei ole surjektio koska kaikki luonnolliset luvut eivät ole neliölukuja}\linebreak
            \textbf{bijektio:}\newline
            \textbf{Kuvaus ei ole bijektio koska se ei ole surjektio.}

            \item[b)] $g : \mathbb{Z} \rightarrow \mathbb{Z}, \ g(x) = |x|$\newline
            \textbf{injektio:}
            \begin{itemize}
                \item Koska $g(x) = |x|$ on itseisarvokuvaus se hukkaa luvun etumerkin. Esimerkiksi $g(7) = 7$ ja $g(-7) = 7$, eli $g(7) = g(-7)$
            \end{itemize}
            \textbf{Kuvaus ei ole injektio, koska lähtöjoukon eri alkiot voivat kuvautua samaan tulokuvan alkioon.}\newline
            \textbf{surjektio:}
            \begin{itemize}
                \item $g(x) = |x|$ tuottaa vain ei-negatiivisia lukuja (esim. $g(7) = 7$, $g(-7) = 7$, $g(0) = 0$), kaikki negatiiviset kokonaisluvut tulokuvassa $\mathbb{Z}$ jäävät ilman vastinetta.
            \end{itemize}
            \textbf{Kuvaus ei ole surjektio, koska negatiivisila kokonaisluvuilla ei ole vastinetta lähtöjoukossa.}\newline
            \textbf{bijektio:}\newline
            \textbf{Kuvaus ei ole bijektio koska se ei ole injektio eikä surjektio.}
\pagebreak
            \item[c)] $h : \mathbb{R} \rightarrow \mathbb{R}, \ h(x) = x + 1$\newline
            \textbf{injektio:}
            \begin{itemize}
                \item $h(x_1) = h(x_2)$, tämä tarkoittaa että $x_1 + 1 = x_2 + 1$
                \item Vähentämällä molemmilta puolilta luvun 1 saadaan $x_1 = x_2$
            \end{itemize}
            \textbf{Kuvaus on injektio koska jos kahdella alkioilla on sama kuva niiden täytyy olla samoja alkioita}\newline
            \textbf{surjektio:}
            \begin{itemize}
                \item valitaan mikä tahansa $y \in \mathbb{R}$, täytyy löytyä $x \in \mathbb{R}$ siten että $h(x) = y$, eli $x + 1 = y$
                \item $\implies x = y - 1$
                \item $x = y - 1$ kuuluu aina joukkoon $\mathbb{R}$
            \end{itemize}
            \textbf{Kuvaus on surjektio koska kaikilla $y \in \mathbb{R}$ on olemassa vastine lähtöjoukossa}\newline
            \textbf{bijektio:}\newline
            \textbf{Kuvaus on bijektio koska se on injektio sekä surjektio.}
        \end{itemize}
    
    \newpage
    \stepcounter{tehtava}
    \section*{Tehtävä \thetehtava}
    Olkoot $f, g: \mathbb{R} \rightarrow \mathbb{R}, f(x) = x^3 + 1$ ja $g(x) = x^2$
    \begin{itemize}
        \item[a)] Määritä funkion $f$ käänteisfunktio $f^{-1}:\mathbb{R} \rightarrow \mathbb{R}$, jos se on olemassa.\newline
        Todistaan siis $f^{-1} (f(x)) = x$
        \begin{itemize}
            \item lähtökohtanan $y = f(x) = x^3 + 1$ jolloin ratkaistaan $x$ yhtälöstä $y = x^3 + 1$
            \item \[y = x^3 + 1 \quad \implies \quad y - 1 = x^3 \quad \implies \quad x = \sqrt[3]{y - 1} \]
            \item Siis $f^{-1}(y) = \sqrt[3]{y - 1}$
        \end{itemize}
        Joten funktion $f(x) = x^3 + 1$ käänteisfunktio on: $f^{-1}(x) = \sqrt[3]{x - 1}$\newline
        1. todistus: $f^{-1}(f(x)) = x$: \newline
        $f^{-1}(f(x)) = f^{-1}(x^3 + 1) = \sqrt[3]{(x^3 + 1) - 1} = \sqrt[3]{x^3} = x$\newline
        2. todistus: $f(f^{-1}(x)) = x$ :\newline
        $f(f^{-1}(x)) = f\left(\sqrt[3]{x - 1}\right) = \left(\sqrt[3]{x - 1}\right)^3 + 1 = (x - 1) + 1 = x$
        \item[b)] Määritä funkion $g$ käänteisfunktio $g^{-1}:\mathbb{R} \rightarrow \mathbb{R}$, jos se on olemassa.
        \begin{itemize}
            \item lähtökohtanan $y = g(x) = x^2$ jolloin ratkaistaan $x$ yhtälöstä $y = x^2$
            \item $y = x^2 \implies x = \pm \sqrt{y}$
            \item funktio $g(x) = x^2$ ei ole yksikäsitteinen koko $\mathbb{R}$:ssä, se ei ole käännettävissä.
        \end{itemize}
    \end{itemize}

    \newpage
    \stepcounter{tehtava}
    \section*{Tehtävä \thetehtava}
    Jatkoa tehtävään 4. Määritä yhdistetyt funktiot $f \circ g$ ja $g \circ f$. Onko $f \circ g = g \circ f$?
    \begin{itemize}
        \item[]$f \circ g$ eli $f(g(x))$
            \[
                \begin{aligned}
                    (f \circ g)(x) &= f(g(x)) = f(x^2) \\
                    &= (x^2)^3 + 1 = x^6 + 1 \\
                    \implies f \circ g &= x^6 + 1
                \end{aligned}
            \]
        \item[]$g \circ f$ eli $g(f(x))$
                \[
                    \begin{aligned}
                        (g \circ f)(x) &= g(f(x)) = g(x^3 + 1) \\
                        &= (x^3 + 1)^2 = x^6 + 2x^3 + 1 \\
                        \implies g \circ f &= (x^3 + 1)^2 = x^6 + 2x^3 + 1                        
                    \end{aligned}
                \]
    \end{itemize}
    Nyt meillä on seuraavat funktiot yhdistämisen tuloksena
    \begin{itemize}
        \item $f \circ g = x^6 + 1$
        \item $g \circ f = x^6 + 2x^3 + 1$
    \end{itemize}
    Mistä on helppo nähdä $f \circ g \neq g \circ f$


    \newpage
    \stepcounter{tehtava}
    \section*{Tehtävä \thetehtava}

    Etsi sellaiset ei-identtiset kuvaukset (funktiot)
    \begin{itemize}
        \item[\textbf{a)}] $f : \mathbb{R} \rightarrow \mathbb{R}$, että $(f \circ id_\mathbb{R})(x) = -2x$ kaikilla x $\in \mathbb{R}$
        \[
            \begin{aligned}
                (f \circ id_{\mathbb{R}})(x) &= f(id_{\mathbb{R}}(x)) = f(x) \\
                \implies & f(x) = -2x
            \end{aligned}
        \]

        \item[\textbf{b)}] $g, h: \mathbb{R} \rightarrow \mathbb{R}$, että $(h \circ g)(x) = 3x^2 + 1$ kaikilla $x \in \mathbb{R}$\newline
        Eli $h(g(x)) = 3x^2 + 1$
        \begin{itemize}
            \item Oletetaan jokin funktio $g(x)$. Koska oikealla puolella on termi $3x^2$, oletetaan $g(x) = x^2$.
            \item Ratkaistaan $h(x)$:
            \[
                \begin{aligned}
                    h(g(x)) = & \  h(x^2)\\
                    \implies h(g(x)) = & \ 3x^2 + 1\\
                    = h(x^2) = & \ 3x^2 + 1 \quad \mid \text{eli $h(y)$, kun $y = x^2$ on $h(y) = 3y + 1$} \\
                    \implies & h(x) = 3x + 1                                        
                \end{aligned}
            \]
            \item Yhdistetty funktio tarkistus:\newline
            Yhdistetään funktiot $h(g(x))$\newline
            $h(g(x)) = h(x^2) = 3x^2 + 1$
            \item Eli löysimme funktiot:
            \begin{itemize}
                \item $g(x) = x^2$
                \item $h(x) = 3x + 1$
            \end{itemize}
            Jotka täyttävät ehdon $(h \circ g)(x) = 3x^2 + 1$

            
        \end{itemize}



        \item[\textbf{c)}] $j, k, l : \mathbb{R} \rightarrow \mathbb{R}$, että $(l \circ (k \circ j))(x) = e^{sin |x|}$ kaikilla $x \in \mathbb{R}$
        \begin{itemize}
            \item Aloitetaan sisimmästä funktiosta $j(x)$. Koska oikealla on lauseke $|x|$ oletetaan $j(x) = |x|$
            \item Seuraavaksi $k(x)$. $j(x) = |x|$, joten $(k \circ j)(x) = k(|x|)$. oletetaan $k(x) = \sin(x)$ josta sauraa $(k \circ j)(x) = \sin(|x|)$
            \item Lopuksi $l(x)$. Meillä on jo $(k \circ j)(x) = \sin(|x|)$ ja tiedämme että $l$ nostaa tämän exponenttiin joten $l(x) = e^x$. Tällöin $(l \circ (k \circ j))(x) = e^{\sin |x|}$, mikä oli ehto.
            \item Yhdistetään yllä olevat tulokset $(l \circ (k \circ j))(x) = l(k(j(x))) = l(\sin(|x|)) = e^{\sin |x|}$ ja nähdään että ehto täyttyy.
            \item Eli:
            \begin{itemize}
                \item $j(x) = |x|$
                \item $k(x) = \sin(x)$
                \item $l(x) = e^x$
            \end{itemize}
        \end{itemize}
\pagebreak
        \item[\textbf{d)}] Totea kohdassa (c), että myös $((l \circ k) \circ j)(x) = e^{sin |x|}$ kaikilla $x \in \mathbb{R}$
        \begin{itemize}
            \item $(l \circ k)(x) = l(k(x)) = l(\sin(x)) = e^{\sin(x)}$
            \item sovelletaan $j(x) = |x|$ ja saadaan $((l \circ k) \circ j)(x) = (l \circ k)(j(x)) = e^{\sin(|x|)}$
        \end{itemize}
        Siis $(l \circ (k \circ j))(x) = e^{\sin |x|}$ ja $((l \circ k) \circ j)(x) = e^{\sin |x|}$ tuottavat saman tuloksen.
\end{itemize}

\end{document}